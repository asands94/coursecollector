{% extends 'base.html' %} {% block content %}

<h1>Your Courses</h1>
<div class="row">
  <div class="col s3">
    <a
      class="dropdown-trigger btn"
      href="#"
      data-target="dropdown1"
      >Filter by Category</a
    >
    <ul class="dropdown-content" id="dropdown1">
      {% for category in categories %}
      <li>
        <a href="?q={{category.name}}" class=""
          >{{category.name}}</a
        >
      </li>
      <li class="divider" tabindex="-1"></li>
      {% endfor %}
    </ul>
  </div>
  <div class="col s2">
    <a href="{% url 'course_index' %}" class="btn light-green lighten-2">Reset Filter</a>
  </div>
</div>
<div class="row">
  <div class="col s12">
    {% for course in course_list %}
    <a href="{% url 'course_detail' course.id %}">
      <div class="card">
        <div class="card-content">
          <span class="card-title">{{ course.name }}</span>
          <p>{{ course.description }}</p>
          {% if course.category.count%}
          <p>
            Category: {% endif %} {% for category in course.category.all%}
            {{category.name}} {% endfor %}
          </p>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var elems = document.querySelectorAll('.dropdown-trigger')
    var instances = M.Dropdown.init(elems, {
      coverTrigger: false,
    })
  })
</script>
{% endblock %}
